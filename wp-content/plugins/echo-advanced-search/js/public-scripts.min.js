jQuery(window).load(function(){jQuery("#asea-doc-search-container").length&&jQuery("#asea-doc-search-container").removeClass("asea-loading")}),jQuery(document).ready(function(a){a("#asea-doc-search-container").length&&a("#asea-doc-search-container").css("opacity",1),a("#asea_advanced_search_terms").echo_autocomplete({delay:asea_vars.advanced_search_auto_complete_wait,source:function(e,s){if(a(".asea-search-filter-container").hasClass("asea-search-filter-fadeIn-animation")&&(a(".asea-search-filter-container").removeClass("asea-search-filter-fadeIn-animation"),a(".asea-search-filter-container").addClass("asea-search-filter-fadeOut-animation")),e.term){var n=[];a(".asea-search-filter-container .asea-filter-option-input:checked").each(function(){n.push(a(this).val())});var r={action:"asea-advanced-search-kb",asea_kb_id:a("#asea_kb_id").val(),search_categories:n.join(",")||[],search_words:e.term,is_kb_main_page:a(".eckb_search_on_main_page").length},c="";a.ajax({type:"GET",dataType:"json",data:r,url:ajaxurl,beforeSend:function(e){a(".loading-spinner").css("display","block"),a("#asea-ajax-in-progress").show()}}).done(function(e){e=e||"",a(".loading-spinner").css("display","none"),c=e.error||"success"!==e.status?asea_vars.msg_try_again:e.search_result}).fail(function(a,e,s){c=asea_vars.msg_try_again+". ["+(s||asea_vars.unknown_error)+"]"}).always(function(){a("#asea-ajax-in-progress").hide(),c&&(a("#asea_search_results").css("display","block"),a("#asea_search_results").html(c))})}},minLength:1}),a("#asea-search-filter-clear-results").on("click",function(){a(".asea-search-filter-container .asea-filter-option-input").prop("checked",!1),a("#asea_advanced_search_terms").val(""),a("#asea_search_results").css("display","none")}),a(document).keyup(function(e){"Escape"===e.key&&"none"!==a("#asea_search_results").css("display")&&(a("#asea_search_results").hide(),a("#asea_advanced_search_terms").focus())}),a(document).click(function(e){"none"!==a("#asea_search_results").css("display")&&a("#asea_search_results").hide()}),a("#asea_search_form").click(function(a){a.stopPropagation()}),a(".asea-search-filter-icon-container").on("click",function(){a(".asea-search-filter-container").hasClass("asea-search-filter-fadeIn-animation")?(a(".asea-search-filter-container").removeClass("asea-search-filter-fadeIn-animation"),a(".asea-search-filter-container").addClass("asea-search-filter-fadeOut-animation"),a(".asea-search-filter-container").hide()):(a("#asea_search_results").css("display","none"),a(".asea-search-filter-container").removeClass("asea-search-filter-fadeOut-animation"),a(".asea-search-filter-container").addClass("asea-search-filter-fadeIn-animation"),a(".asea-search-filter-container").show())}),a("#asea_advanced_search_terms").keypress(function(a){13==a.keyCode&&a.preventDefault()}),a("#asea_advanced_search_terms").keyup(function(){this.value||a("#asea_search_results").css("display","none")}),a(".asea-search-toggle").on("click",function(){a(this).parent().find("#asea-doc-search-container").slideToggle()}),a(".asea-search-filter-container.sub li .asea-filter-option-input").on("click",function(){a(this).parent().parent().parent().find(".children").toggle()}),a("body").on("change",".asea-search-filter-container.sub input[type=checkbox]",function(){a(this).closest("ul.children").length||(a(this).prop("checked")?a(this).closest("li").find("ul").show():(a(this).closest("li").find("ul").hide(),a(this).closest("li").find("input[type=checkbox]").prop("checked",!1)))})});